<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Topic-Queue Chaining &amp; Load Balancing on Wild Rydes Asynchronous Messaging Workshop</title>
    <link>/topic-queue-chaining-and-load-balancer.html</link>
    <description>Recent content in Topic-Queue Chaining &amp; Load Balancing on Wild Rydes Asynchronous Messaging Workshop</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-US</language>
    
	<atom:link href="/topic-queue-chaining-and-load-balancer/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Bootstrap the Initial State</title>
      <link>/topic-queue-chaining-and-load-balancer/bootstrap-initial-state/bootstrap-initial-state.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/bootstrap-initial-state/bootstrap-initial-state.html</guid>
      <description>First, we will setup the initial state, including the integrating of the Unicorn Management Service (leveraging Amazon API Gateway and AWS Lambda), the Rides Store (leveraging Amazon DynamoDB) and all 5 backend services (leveraging AWS Lambda).
1. Browse to your AWS Cloud9 IDE Browse to your AWS Cloud9 Console and select the environment called WildRydesAsyncMessaging.
  Detailed description     2. Build the lab artifacts from source We provide you with an AWS SAM template which we will use to bootstrap the initial state.</description>
    </item>
    
    <item>
      <title>Create the Amazon SNS topic</title>
      <link>/topic-queue-chaining-and-load-balancer/create-sns-topic/create-sns-topic.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/create-sns-topic/create-sns-topic.html</guid>
      <description>In this step, you can chose whether you want to create the Amazon SNS topic via the AWS console or AWS SAM. Just select the corresponding tab below and follow the instructions:
You can chose, whether you would like to use the AWS Console or AWS SAM for this lab. Once you have chosen, stick to it until the end of this lab and don&amp;rsquo;t switch in between!
  Console SAM  1.</description>
    </item>
    
    <item>
      <title>Create Customer Notification Service Subscription</title>
      <link>/topic-queue-chaining-and-load-balancer/create-customer-notification-service-subscription/create-customer-notification-service-subscription.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/create-customer-notification-service-subscription/create-customer-notification-service-subscription.html</guid>
      <description>In this step, we will create an Amazon SQS queue for the Customer Notification Service and add a subscription to the Amazon SNS topic we created before:
 Console SAM  1. Create a new Amazon SQS queue In your Amazon SQS console, select Create New Queue in top left corner or click Get Started Now in the center of the page, if it&amp;rsquo;s your first queue in this region.</description>
    </item>
    
    <item>
      <title>Create Customer Accounting Service Subscription</title>
      <link>/topic-queue-chaining-and-load-balancer/create-customer-accounting-service-subscription/create-customer-accounting-service-subscription.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/create-customer-accounting-service-subscription/create-customer-accounting-service-subscription.html</guid>
      <description>In this step, we will create an Amazon SQS queue for the Customer Accounting Service and add a subscription to the Amazon SNS topic we created before:
 Console SAM  1. Create a new Amazon SQS queue In your Amazon SQS console, select Create New Queue in top left corner or click Get Started Now in the center of the page, if it&amp;rsquo;s your first queue in this region.</description>
    </item>
    
    <item>
      <title>Create Customer Loyalty Service Subscription</title>
      <link>/topic-queue-chaining-and-load-balancer/create-customer-loyalty-service-subscription/create-customer-loyalty-service-subscription.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/create-customer-loyalty-service-subscription/create-customer-loyalty-service-subscription.html</guid>
      <description>In this step, we will create an Amazon SQS queue for the Customer Loyalty Service and add a subscription to the Amazon SNS topic we created before:
 Console SAM  1. Create a new Amazon SQS queue In your Amazon SQS console, select Create New Queue in top left corner or click Get Started Now in the center of the page, if it&amp;rsquo;s your first queue in this region.</description>
    </item>
    
    <item>
      <title>Create Datalake Ingestion Service Subscription</title>
      <link>/topic-queue-chaining-and-load-balancer/create-datalake-ingestion-service-subscription/create-datalake-ingestion-service-subscription.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/create-datalake-ingestion-service-subscription/create-datalake-ingestion-service-subscription.html</guid>
      <description>In this step, we will create an Amazon SQS queue for the Datalake Ingestion Service and add a subscription to the Amazon SNS topic we created before:
 Console SAM  1. Create a new Amazon SQS queue In your Amazon SQS console, select Create New Queue in top left corner or click Get Started Now in the center of the page, if it&amp;rsquo;s your first queue in this region.</description>
    </item>
    
    <item>
      <title>Create Extraordinary Rides Service Subscription</title>
      <link>/topic-queue-chaining-and-load-balancer/create-extraordinary-rides-service-subscription/create-extraordinary-rides-service-subscription.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/create-extraordinary-rides-service-subscription/create-extraordinary-rides-service-subscription.html</guid>
      <description>In this step, we will create an Amazon SQS queue for the Extraordinary Rides Service and add a subscription to the Amazon SNS topic we created before:
 Console SAM  1. Create a new Amazon SQS queue In your Amazon SQS console, select Create New Queue in top left corner or click Get Started Now in the center of the page, if it&amp;rsquo;s your first queue in this region.</description>
    </item>
    
    <item>
      <title>Update Unicorn Management Service</title>
      <link>/topic-queue-chaining-and-load-balancer/update-unicorn-management-service/update-unicorn-management-service.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/update-unicorn-management-service/update-unicorn-management-service.html</guid>
      <description>After creating the Amazon SNS topic, all the Amazon SQS queues and the subscriptions, the current architecture looks like the following on:
The last missing part to complete the architecture is calling our Amazon SNS topic from our Unicorn Management Service.
 Console SAM  1. Grant additional IAM permissions to Lambda In your Amazon IAM console, select Roles in the left navigation. Use the filter text box to find the role with the name wild-rydes-async-msg-2-SubmitRideCompletionFunctio-&amp;hellip; (assuming your have chosen wild-rydes-async-msg-2 as your stack name).</description>
    </item>
    
    <item>
      <title>Test Topic-Queue Chaining &amp; Load Balancing</title>
      <link>/topic-queue-chaining-and-load-balancer/test-topic-queue-chaining-and-load-balancer/test-topic-queue-chaining-and-load-balancing.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/test-topic-queue-chaining-and-load-balancer/test-topic-queue-chaining-and-load-balancing.html</guid>
      <description>In this step, we will validate that the Amazon SNS topic is publishing all messages to all subscribers. Because a subscriber can also fail processing a message, we also want to validate that Amazon SNS is redelivering the message, so that we will not miss a single message.
1. Look up the API Gateway endpoint To look-up the API Gateway endpoint URL for the submit-ride-completion function, run the following command:</description>
    </item>
    
    <item>
      <title>Clean up</title>
      <link>/topic-queue-chaining-and-load-balancer/clean-up/clean-up.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/clean-up/clean-up.html</guid>
      <description>In this step, we will clean up all resources, we created during this lab, so that no further cost will occur.
1. Delete the AWS SAM template In your Cloud9 IDE, run the following command to delete the resources we created with our AWS SAM template:
cd ~/environment/wild-rydes-async-messaging/lab-2 aws cloudformation delete-stack \  --stack-name wild-rydes-async-msg-2 2. Delete the AWS Lambda created Amazon CloudWatch Log Group Follow this deep link to list all Amazon CloudWatch Log Groups with the prefix /aws/lambda/wild-rydes-async-msg-2, AWS Lambda created during this lab.</description>
    </item>
    
    <item>
      <title>Console</title>
      <link>/topic-queue-chaining-and-load-balancer/clean-up/clean-up-console.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/clean-up/clean-up-console.html</guid>
      <description>4. Delete the Amazon SNS topic In your Amazon SNS console, select Topic in the left navigation pane, select the RideCompletionTopic and click the Delete button in the top right corner.
  Detailed description     You are done!</description>
    </item>
    
    <item>
      <title>Console</title>
      <link>/topic-queue-chaining-and-load-balancer/create-customer-accounting-service-subscription/create-customer-accounting-service-subscription-console.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/create-customer-accounting-service-subscription/create-customer-accounting-service-subscription-console.html</guid>
      <description>1. Create a new Amazon SQS queue In your Amazon SQS console, select Create New Queue in top left corner or click Get Started Now in the center of the page, if it&amp;rsquo;s your first queue in this region.
  Detailed description     Enter CustomerAccountingServiceQueue as Queue Name, make sure Standard Queue is highlighted and click Quick-Create Queue.
  Screenshot     2. Create a new subscription After selecting the queue CustomerAccountingServiceQueue, click the Queue Actions drop down in the top left corner and chose Subscribe Queue to SNS Topic.</description>
    </item>
    
    <item>
      <title>Console</title>
      <link>/topic-queue-chaining-and-load-balancer/create-customer-loyalty-service-subscription/create-customer-loyalty-service-subscription-console.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/create-customer-loyalty-service-subscription/create-customer-loyalty-service-subscription-console.html</guid>
      <description>1. Create a new Amazon SQS queue In your Amazon SQS console, select Create New Queue in top left corner or click Get Started Now in the center of the page, if it&amp;rsquo;s your first queue in this region.
  Detailed description     Enter CustomerLoyaltyServiceQueue as Queue Name, make sure Standard Queue is highlighted and click Quick-Create Queue.
  Detailed description     2.</description>
    </item>
    
    <item>
      <title>Console</title>
      <link>/topic-queue-chaining-and-load-balancer/create-customer-notification-service-subscription/create-customer-notification-service-subscription-console.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/create-customer-notification-service-subscription/create-customer-notification-service-subscription-console.html</guid>
      <description>1. Create a new Amazon SQS queue In your Amazon SQS console, select Create New Queue in top left corner or click Get Started Now in the center of the page, if it&amp;rsquo;s your first queue in this region.
  Detailed description     Enter CustomerNotificationServiceQueue as Queue Name, make sure Standard Queue is highlighted and click Quick-Create Queue.
  Detailed description     2.</description>
    </item>
    
    <item>
      <title>Console</title>
      <link>/topic-queue-chaining-and-load-balancer/create-datalake-ingestion-service-subscription/create-datalake-ingestion-service-subscription-console.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/create-datalake-ingestion-service-subscription/create-datalake-ingestion-service-subscription-console.html</guid>
      <description>1. Create a new Amazon SQS queue In your Amazon SQS console, select Create New Queue in top left corner or click Get Started Now in the center of the page, if it&amp;rsquo;s your first queue in this region.
  Detailed description     Enter DatalakeIngestionServiceQueue as Queue Name, make sure Standard Queue is highlighted and click Quick-Create Queue.
  Detailed description     2.</description>
    </item>
    
    <item>
      <title>Console</title>
      <link>/topic-queue-chaining-and-load-balancer/create-extraordinary-rides-service-subscription/create-extraordinary-rides-service-subscription-console.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/create-extraordinary-rides-service-subscription/create-extraordinary-rides-service-subscription-console.html</guid>
      <description>1. Create a new Amazon SQS queue In your Amazon SQS console, select Create New Queue in top left corner or click Get Started Now in the center of the page, if it&amp;rsquo;s your first queue in this region.
  Detailed description     Enter ExtraordinaryRidesServiceQueue as Queue Name, make sure Standard Queue is highlighted and click Quick-Create Queue.
  Detailed description     2.</description>
    </item>
    
    <item>
      <title>Console</title>
      <link>/topic-queue-chaining-and-load-balancer/create-sns-topic/create-sns-topic-console.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/create-sns-topic/create-sns-topic-console.html</guid>
      <description>1. Browse to the Amazon SNS console In your Amazon SNS console, select Topic in the left navigation pane and click the Create topic button in the top right corner.
  Detailed description     2. Create the Ride Completion Topic Enter the topic name RideCompletionTopic and leave the default values. Scroll to the bottom of the page and click Create topic.
  Detailed description     </description>
    </item>
    
    <item>
      <title>Console</title>
      <link>/topic-queue-chaining-and-load-balancer/update-unicorn-management-service/update-unicorn-management-service-console.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/update-unicorn-management-service/update-unicorn-management-service-console.html</guid>
      <description>1. Grant additional IAM permissions to Lambda In your Amazon IAM console, select Roles in the left navigation. Use the filter text box to find the role with the name wild-rydes-async-msg-2-SubmitRideCompletionFunctio-&amp;hellip; (assuming your have chosen wild-rydes-async-msg-2 as your stack name).
  Detailed description     Click on the role name and click Add inline policy to attache another one.
  Detailed description     Select the JSON tab and passed the following policy statement into it, after you have substitute &amp;laquo;&amp;hellip;&amp;raquo; with the correct values.</description>
    </item>
    
    <item>
      <title>SAM</title>
      <link>/topic-queue-chaining-and-load-balancer/clean-up/clean-up-sam.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/clean-up/clean-up-sam.html</guid>
      <description>3. Delete the Amazon S3 bucket In your Cloud9 IDE, run the following command to delete the Amazon S3 bucket we created earlier:
aws s3 rb s3://${BUCKET_NAME} â€”-force You are done!</description>
    </item>
    
    <item>
      <title>SAM</title>
      <link>/topic-queue-chaining-and-load-balancer/create-customer-accounting-service-subscription/create-customer-accounting-service-subscription-sam.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/create-customer-accounting-service-subscription/create-customer-accounting-service-subscription-sam.html</guid>
      <description>1. Update the AWS SAM template In your Cloud9 IDE for this workshop, open the SAM template file wild-rydes-async-messaging/lab-2/template.yaml. In the Resources section, add the definition for an Amazon SQS queue with the name CustomerAccountingServiceQueue, the CustomerAccountingService will use to consume messages from. You can find the AWS CloudFormation documentation to do so here.
  Cheat Sheet   CustomerAccountingServiceQueue: Type: AWS::SQS::Queue    The next step, before we can define the subscription, is granting our Amazon SNS topic the permissions to publish messages into this Amazon SQS queue.</description>
    </item>
    
    <item>
      <title>SAM</title>
      <link>/topic-queue-chaining-and-load-balancer/create-customer-loyalty-service-subscription/create-customer-loyalty-service-subscription-sam.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/create-customer-loyalty-service-subscription/create-customer-loyalty-service-subscription-sam.html</guid>
      <description>1. Update the AWS SAM template In your Cloud9 IDE for this workshop, open the SAM template file wild-rydes-async-messaging/lab-2/template.yaml. In the Resources section, add the definition for an Amazon SQS queue with the name CustomerLoyaltyServiceQueue, the CustomerLoyaltyService will use to consume messages from. You can find the AWS CloudFormation documentation to do so here.
  Cheat Sheet   CustomerLoyaltyServiceQueue: Type: AWS::SQS::Queue    The next step, before we can define the subscription, is granting our Amazon SNS topic the permissions to publish messages into this Amazon SQS queue.</description>
    </item>
    
    <item>
      <title>SAM</title>
      <link>/topic-queue-chaining-and-load-balancer/create-customer-notification-service-subscription/create-customer-notification-service-subscription-sam.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/create-customer-notification-service-subscription/create-customer-notification-service-subscription-sam.html</guid>
      <description>1. Update the AWS SAM template In your Cloud9 IDE for this workshop, open the SAM template file &amp;lsquo;wild-rydes-async-messaging/lab-2/template.yaml&amp;rsquo;. In the Resources section, add the definition for an Amazon SQS queue with the name CustomerNotificationServiceQueue, the CustomerNotificationService will use to consume messages from. You can find the AWS CloudFormation documentation to do so here.
  Cheat Sheet   CustomerNotificationServiceQueue: Type: AWS::SQS::Queue    The next step, before we can define the subscription, is granting our Amazon SNS topic the permissions to publish messages into this Amazon SQS queue.</description>
    </item>
    
    <item>
      <title>SAM</title>
      <link>/topic-queue-chaining-and-load-balancer/create-datalake-ingestion-service-subscription/create-datalake-ingestion-service-subscription-sam.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/create-datalake-ingestion-service-subscription/create-datalake-ingestion-service-subscription-sam.html</guid>
      <description>1. Update the AWS SAM template In your Cloud9 IDE for this workshop, open the SAM template file wild-rydes-async-messaging/lab-2/template.yaml. In the Resources section, add the definition for an Amazon SQS queue with the name DatalakeIngestionServiceQueue, the DatalakeIngestionService will use to consume messages from. You can find the AWS CloudFormation documentation to do so here.
  Cheat Sheet   DatalakeIngestionServiceQueue: Type: AWS::SQS::Queue    The next step, before we can define the subscription, is granting our Amazon SNS topic the permissions to publish messages into this Amazon SQS queue.</description>
    </item>
    
    <item>
      <title>SAM</title>
      <link>/topic-queue-chaining-and-load-balancer/create-extraordinary-rides-service-subscription/create-extraordinary-rides-service-subscription-sam.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/create-extraordinary-rides-service-subscription/create-extraordinary-rides-service-subscription-sam.html</guid>
      <description>1. Update the AWS SAM template In your Cloud9 IDE for this workshop, open the SAM template file wild-rydes-async-messaging/lab-2/template.yaml. In the Resources section, add the definition for an Amazon SQS queue with the name ExtraordinaryRidesServiceQueue, the ExtraordinaryRidesService will use to consume messages from. You can find the AWS CloudFormation documentation to do so here.
  Cheat Sheet   ExtraordinaryRidesServiceQueue: Type: AWS::SQS::Queue    The next step, before we can define the subscription, is granting our Amazon SNS topic the permissions to publish messages into this Amazon SQS queue.</description>
    </item>
    
    <item>
      <title>SAM</title>
      <link>/topic-queue-chaining-and-load-balancer/create-sns-topic/create-sns-topic-sam.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/create-sns-topic/create-sns-topic-sam.html</guid>
      <description>1. Update the AWS SAM template In your Cloud9 IDE for this workshop, open the SAM template file wild-rydes-async-messaging/lab-2/template.yaml. In the Resources section, add the definition for an Amazon SNS topic with the name RideCompletionTopic. You can find the AWS CloudFormation documentation to do so here.
  Cheat Sheet    RideCompletionTopic: Type: AWS::SNS::Topic Properties: TopicName: RideCompletionTopic      Detailed description     2.</description>
    </item>
    
    <item>
      <title>SAM</title>
      <link>/topic-queue-chaining-and-load-balancer/update-unicorn-management-service/update-unicorn-management-service-sam.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/topic-queue-chaining-and-load-balancer/update-unicorn-management-service/update-unicorn-management-service-sam.html</guid>
      <description>1. Grant additional IAM permissions to Lambda In your Cloud9 IDE for this workshop, open the SAM template file wild-rydes-async-messaging/lab-2/template.yaml. In the Resources section, look for the SubmitRideCompletionFunction definition. It already contains one policies entry called DynamoDBCrudPolicy. Directly below, add a policy entry which grants Amazon SNS publish message permission. You can look up the supported policies here.
  Cheat Sheet   - SNSPublishMessagePolicy: TopicName: !GetAtt RideCompletionTopic.TopicName      Detailed description     2.</description>
    </item>
    
  </channel>
</rss>